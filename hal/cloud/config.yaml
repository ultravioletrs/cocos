#cloud-config
package_update: true
package_upgrade: false

users:
  - default
  - name: cocos_user
    gecos: Default User
    groups:
      - sudo
      - docker # Add cocos user to the docker group
    sudo:
      - ALL=(ALL:ALL) ALL
    shell: /bin/bash

chpasswd:
  list: |
    cocos_user:password
  expire: False

ssh_pwauth: True

write_files:
  - path: /etc/cocos/certs/cert.pem
    content: |
      # Add certificate content here
    permissions: "0644"

  - path: /etc/cocos/certs/ca.pem
    content: |
      # Add CA certificate content here
    permissions: "0644"

  - path: /etc/cocos/certs/key.pem
    content: |
      # Add private key content here
    permissions: "0600"

  - path: /etc/cocos/environment
    content: |
      # Add environment variables here
    permissions: "0644"

final_message: "Cocos agent setup complete. Verify logs to confirm successful service startup."
